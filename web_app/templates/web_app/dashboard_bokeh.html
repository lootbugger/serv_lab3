<!doctype html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <title>Bokeh Analytics (v2)</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.bokeh.org/bokeh/release/bokeh-3.8.1.min.js"></script>
  </head>
  <body class="bg-light">
    <div class="container py-4">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
          <h1 class="fw-bold text-success">üìä Bokeh Dashboard (v2)</h1>
          <p class="text-muted">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞ –≤–µ—Ä—Å—ñ—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó</p>
        </div>
        <div>
          <a href="{% url 'dashboard' %}" class="btn btn-primary"
            >–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ v1 (Plotly)</a
          >
          <a href="/web/" class="btn btn-outline-secondary">–î–æ–¥–æ–º—É</a>
        </div>
      </div>

      <div class="card p-3 mb-4 shadow-sm">
        <form method="get" class="row align-items-end">
          <div class="col-md-4">
            <label class="form-label fw-bold">–§—ñ–ª—å—Ç—Ä –ø–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ—Å—Ç—ñ:</label>
            <select name="speciality" class="form-select">
              <option value="All">–í—Å—ñ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ—Å—Ç—ñ</option>
              {% for spec in all_specs %}
              <option
                value="{{ spec }}"
                {%
                if
                spec=""
                ="selected_spec"
                %}selected{%
                endif
                %}
              >
                {{ spec }}
              </option>
              {% endfor %}
            </select>
          </div>
          <div class="col-md-2">
            <button type="submit" class="btn btn-success w-100">
              –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏
            </button>
          </div>
        </form>
      </div>

      <div class="row mb-4 text-center">
        <div class="col-md-4">
          <div class="card p-3 text-white bg-success">
            <h3>{{ stats.total_revenue }} ‚Ç¥</h3>
            <p>–í–∏—Ä—É—á–∫–∞</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card p-3 text-white bg-secondary">
            <h3>{{ stats.total_visits }}</h3>
            <p>–í—ñ–∑–∏—Ç–∏</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card p-3 text-white bg-dark">
            <h3>{{ stats.avg_check }} ‚Ç¥</h3>
            <p>–°–µ—Ä–µ–¥–Ω—ñ–π —á–µ–∫</p>
          </div>
        </div>
      </div>

      <div class="row g-4">
        <div class="col-md-6">
          <div class="card shadow-sm h-100">
            <div class="card-body">{{ divs.chart1|safe }}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card shadow-sm h-100">
            <div class="card-body">{{ divs.chart2|safe }}</div>
          </div>
        </div>

        <div class="col-12">
          <div class="card shadow-sm">
            <div class="card-body">{{ divs.chart3|safe }}</div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card shadow-sm h-100">
            <div class="card-body">{{ divs.chart4|safe }}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card shadow-sm h-100">
            <div class="card-body">{{ divs.chart5|safe }}</div>
          </div>
        </div>

        <div class="col-12">
          <div class="card shadow-sm">
            <div class="card-body">{{ divs.chart6|safe }}</div>
          </div>
        </div>
      </div>
    </div>

    {{ script|safe }}
  </body>
</html>
